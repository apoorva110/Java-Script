<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>update</title>
</head>
<body>
    <h1>UPDATE YOUR DATA</h1>
    <form action="" id="updateuser">
        Name:<input type="text" id="name" placeholer="Enter your name"><br>
        Email:<input type="text" id="email" placeholder="Enter your email"><br>
        Mobile:<input type="text" id="mobile" placeholder="Enter your phone"><br>
        Password:<input type="text" id="password" placeholder="Enter your password"><br>
        <input type="submit" value="UPDATE" id="btn">
    </form>
    <button onclick="print1()">PRINT</button>
    <script>
        let islogin=JSON.parse(localStorage.getItem("islogin"))
        console.log(islogin);
        let user=JSON.parse(localStorage.getItem("user") || '[]');
        console.log(user);
        document.getElementById("name").value=islogin.name;
        document.getElementById("email").value=islogin.email;
        document.getElementById("mobile").value=islogin.mobile;
        document.getElementById("password").value=islogin.password;
        document.getElementById("updateuser").addEventListener("submit",(e)=>{
            e.preventDefault();
            let updatedata={
                name:document.getElementById("name").value,
                email:document.getElementById("email").value,
                mobile:document.getElementById("mobile").value,
                password:document.getElementById("password").value

            }
            user.map((u)=>{
                if(islogin.email===u.email){
                    return updatedata;
                }
                return u;
            })
            localStorage.setItem("user",JSON.stringify(user))
            localStorage.setItem("islogin",JSON.stringify(updatedata))
            window.location.href="/userdashboard.html";
            console.log(updateuser)
        })
        const print1=()=>{
            window.print()
        }
    </script>
</body>
</html>